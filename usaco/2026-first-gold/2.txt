题意：
给你一个长度为 n 的数组，你先可以去任意次交换数组中相邻的两个数，每次操作费用为 1。操作完一定次数后，你要把这个数组合并成一个数，合并的方式是每次任意选择相邻的两个数，把它们合并成他们的平均值插入回数组里，操作 n-1 次。然后要你在保证合并得到的数最大的情形下，最小化你需要的总费用，输出这个总费用。
 做法：
考虑到每次合并是平均值，而且没有取整，于是每个数对答案的贡献是它参与了多少次合并，他自己的贡献就除多少个 2。
那贪心一下就知道肯定是按从小到大的顺序去合并。那由于我们是要先换好顺序再合并，那我们就需要把比如 <=x 的合并好之后，= x+1 的那些数全部在你合并后数的两边。
然后考虑如何计算，注意到你只需要决定让每个 x 的数在 <x 合并结果的左边还是右边就好，而这个结果需要的贡献我们直接看左边和右边各自有多少个 <x 的数即可，那我们就选贡献少的那边，而且结果之间是不会相互影响的，于是拿个树状数组求一下全部加起来就好了。
